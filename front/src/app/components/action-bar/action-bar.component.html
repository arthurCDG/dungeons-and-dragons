<div class="action-bar">
	<ng-container *ngIf="userId === currentPlayer?.userId; else currentPlayerMessage">
		<div class="action-bar-buttons">
			<button
				(click)="onMeleeAttackAsync()"
				class="base-button"
				[disabled]="!currentPlayer.attributes?.attackCount"
			>
				Attaquer au corps à corps
			</button>
			<button (click)="onRangeAttackAsync()" class="base-button" [disabled]="!currentPlayer.attributes?.attackCount">Attaquer à distance</button>
			<button (click)="onHealAsync()" class="base-button" [disabled]="!currentPlayer.attributes?.healCount">Soigner</button>
			<button (click)="onSearchAsync()" class="base-button" [disabled]="!currentPlayer.attributes?.chestSearchCount">Fouiller le coffre</button>
			<button (click)="onOpenDoorAsync()" class="base-button" *ngIf="canOpenDoor">Ouvrir la porte</button>
			<button (click)="onEndTurnAsync()"  class="base-button">Finir son tour</button>
		</div>
	</ng-container>

	<ng-template #currentPlayerMessage>
		<p>En attendant que le joueur en cours finisse son tour, vous pouvez regarder votre inventaire.</p>
	</ng-template>

	<ng-container *ngIf="currentPlayer">
		<div class="current-player-card">
			<p>Joueur en cours : {{ currentPlayer.profile?.name }}</p>
		</div>
	</ng-container>
</div>