<div id="creation-page-background" class="body-background-image">
	<app-header></app-header>

	<div class="page-description-wrapper">
		<h2 class="white-title">Page de création de joueur</h2>
	</div>

	<ng-container *ngIf="!isLoading; else loading">
		<ng-container *ngIf="creatablePlayers.length; else emptyState">
			<div id="creatable-player-wrapper">
				<div id="creatable-players-list">
					<!-- Players list -->
					<ng-container *ngFor="let player of creatablePlayers">
						<div
							class="creatable-player-icon"
							(click)="selectPlayer(player)"
							[class.is-selected]="this.selectedPlayer?.type === player.type"
						>
							<ng-container *ngIf="player.type === 2">
								<img class="icon" src="../../../assets/hero-classes/haches.png" alt="player icon">
							</ng-container>
							<ng-container *ngIf="player.type === 3">
								<img class="icon" src="../../../assets/hero-classes/epees.png" alt="player icon">
							</ng-container>
							<ng-container *ngIf="player.type === 4">
								<img class="icon" src="../../../assets/hero-classes/religion.png" alt="player icon">
							</ng-container>
							<ng-container *ngIf="player.type === 5">
								<img class="icon" src="../../../assets/hero-classes/baguette-magique.png" alt="player icon">
							</ng-container>
							<ng-container *ngIf="player.type === 6">
								<img class="icon" src="../../../assets/players/skeleton-transparent.svg" alt="player icon">
							</ng-container>
							<span>{{ player.firstName }}</span>
						</div>
					</ng-container>
				</div>

				<!-- Selected player display -->
				<ng-container *ngIf="selectedPlayer">
					<app-creatable-player-card [player]="selectedPlayer"></app-creatable-player-card>
				</ng-container>
			</div>

			<div class="main-button-wrapper">
				<button class="base-button" type="submit" [disabled]="playerCreationForm.invalid">Créer le joueur</button>
			</div>
		</ng-container>


		<ng-template #emptyState>
			<p>Vous avez débloqué et créé tous les joueurs créables (message à changer)</p>
		</ng-template>
	</ng-container>

	<ng-template #loading>
		<p>Chargement...</p>
	</ng-template>
</div>
